<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Pagamento</title>
    <link rel="stylesheet" href="payment.css">
    <link rel="stylesheet" href="pagamento.css">
</head>
<body>
    <header>
        <nav>
            <a href="index.html">
            <div class="logo">Pagamento</div></a>
            <ul class="menu">
                <li><a href="loja.html">Home</a></li>
                <li><a href="suplementos.html">Suplementos</a></li>
                <li><a href="roupas.html">Roupas</a></li>
                <li><a href="acessorios.html">Acessórios</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="payment-container">
            <!-- Resumo da Compra -->
            <section class="payment-summary-container">
                <h2>Resumo da Compra</h2>
                <div id="payment-cart-items"></div> <!-- Itens do carrinho -->

                <div id="payment-summary"></div> <!-- Total da compra -->
            </section>

            <!-- Formulário de Dados de Pagamento -->
            <section class="payment-form-container">
                <h3>Dados de Pagamento</h3>
                <form id="payment-form">
                    <label for="name">Nome Completo:</label>
                    <input type="text" id="name" name="name" required>

                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>

                    <label for="address">Endereço:</label>
                    <input type="text" id="address" name="address" required>

                    <label for="credit-card">Número do Cartão de Crédito:</label>
                    <input type="text" id="credit-card" name="credit-card" required>

                    <button type="submit">Finalizar Compra</button>
                </form>
            </section>
        </div>
    </main>

    <footer>
        <p>© 2024 Grupo Forte Academia. Todos os direitos reservados.</p>
    </footer>

    <script>
        const paymentCartItemsElement = document.getElementById('payment-cart-items');
        const paymentSummaryElement = document.getElementById('payment-summary');
        const paymentForm = document.getElementById('payment-form');

        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Função para exibir os itens do carrinho
        function renderPaymentCart() {
            paymentCartItemsElement.innerHTML = '';
            cart.forEach((product) => {
                paymentCartItemsElement.innerHTML += `
                    <div class="cart-item">
                        <img src="${product.image}" alt="${product.name}" style="width: 100px; height: auto;">
                        <h3>${product.name}</h3>
                        <p>Preço: R$ ${product.price.toFixed(2)}</p>
                        <p>Quantidade: ${product.quantity}</p>
                    </div>
                `;
            });

            const total = cart.reduce((sum, product) => sum + product.price * product.quantity, 0);
            paymentSummaryElement.innerHTML = `<h3>Total: R$ ${total.toFixed(2)}</h3>`;
        }

        // Função para simular o envio do pagamento
        paymentForm.addEventListener('submit', function(event) {
            event.preventDefault();

            // Simulação de pagamento bem-sucedido
            alert('Compra finalizada com sucesso!');

            // Limpar o carrinho após o pagamento
            localStorage.removeItem('cart');
            cart = [];
            renderPaymentCart();
        });

        renderPaymentCart(); // Exibe o carrinho ao carregar a página
    </script>
</body>
</html>
